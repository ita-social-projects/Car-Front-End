import { HubConnection, HubConnectionBuilder } from "@microsoft/signalr";
import APIConfig from "./APIConfig";

let hubConnection = (null as unknown) as HubConnection;

(() => {
    const hubConnectionFunc = new HubConnectionBuilder()
        .withUrl(APIConfig.URL + "Chat/")
        .build();
    hubConnectionFunc?.start().then(() => "Connection started!");
    hubConnection = hubConnectionFunc;
})();

export default hubConnection;
